{"ast":null,"code":"import _objectSpread from\"/home/isaac/toDoApp/backEndFrontEndApp/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import{useParams,useNavigate}from'react-router-dom';import{useState,useEffect}from'react';import axios from'axios';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const UpdateTodo=()=>{const{id}=useParams();// Obtener el ID desde la URL\nconst navigate=useNavigate();const[todo,setTodo]=useState({title:'',description:'',date:'',priority:'',done:false});useEffect(()=>{// Obtener la tarea desde el backend con el ID de la URL\naxios.get(\"\".concat(process.env.REACT_APP_API_URL,\"/api/todos/\").concat(id)).then(res=>{setTodo(res.data);// Cargar los datos de la tarea en el estado\n}).catch(err=>{console.error(\"Error al cargar la tarea:\",err.message);});},[id]);// Cuando el ID cambie, se vuelve a cargar la tarea\n// Función para manejar el cambio en los campos del formulario\nconst handleChange=e=>{const{name,value}=e.target;setTodo(prevState=>_objectSpread(_objectSpread({},prevState),{},{[name]:value}));};// Función para actualizar la tarea\nconst handleSubmit=e=>{e.preventDefault();axios.put(\"\".concat(process.env.REACT_APP_API_URL,\"/api/todos/\").concat(id),todo).then(res=>{console.log(\"Tarea actualizada:\",res.data);// Redirigir a la página de ver tareas después de actualizar\nnavigate('/show');}).catch(err=>{console.error(\"Error al actualizar la tarea:\",err.message);});};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Actualizar Tarea\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"T\\xEDtulo:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"title\",value:todo.title,onChange:handleChange})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Descripci\\xF3n:\"}),/*#__PURE__*/_jsx(\"textarea\",{name:\"description\",value:todo.description,onChange:handleChange})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Fecha:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",name:\"date\",value:todo.date,onChange:handleChange})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Prioridad:\"}),/*#__PURE__*/_jsxs(\"select\",{name:\"priority\",value:todo.priority,onChange:handleChange,children:[/*#__PURE__*/_jsx(\"option\",{value:\"Low\",children:\"Baja\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Medium\",children:\"Media\"}),/*#__PURE__*/_jsx(\"option\",{value:\"High\",children:\"Alta\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Completada:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",name:\"done\",checked:todo.done,onChange:()=>setTodo(prevState=>_objectSpread(_objectSpread({},prevState),{},{done:!prevState.done}))})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Actualizar Tarea\"})]})]});};export default UpdateTodo;","map":{"version":3,"names":["useParams","useNavigate","useState","useEffect","axios","jsx","_jsx","jsxs","_jsxs","UpdateTodo","id","navigate","todo","setTodo","title","description","date","priority","done","get","concat","process","env","REACT_APP_API_URL","then","res","data","catch","err","console","error","message","handleChange","e","name","value","target","prevState","_objectSpread","handleSubmit","preventDefault","put","log","children","onSubmit","type","onChange","checked"],"sources":["/home/isaac/toDoApp/backEndFrontEndApp/client/src/components/updateTodo.jsx"],"sourcesContent":["import { useParams, useNavigate } from 'react-router-dom';  \nimport { useState, useEffect } from 'react';\nimport axios from 'axios';\n\nconst UpdateTodo = () => {\n  const { id } = useParams();  // Obtener el ID desde la URL\n  const navigate = useNavigate();  \n  const [todo, setTodo] = useState({\n    title: '',\n    description: '',\n    date: '',\n    priority: '',\n    done: false\n  });\n\n  useEffect(() => {\n    // Obtener la tarea desde el backend con el ID de la URL\n    axios.get(`${process.env.REACT_APP_API_URL}/api/todos/${id}`)\n      .then(res => {\n        setTodo(res.data);  // Cargar los datos de la tarea en el estado\n      })\n      .catch(err => {\n        console.error(\"Error al cargar la tarea:\", err.message);\n      });\n  }, [id]);  // Cuando el ID cambie, se vuelve a cargar la tarea\n\n  // Función para manejar el cambio en los campos del formulario\n  const handleChange = (e) => {\n    const { name, value } = e.target;\n    setTodo(prevState => ({\n      ...prevState,\n      [name]: value\n    }));\n  };\n\n  // Función para actualizar la tarea\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    \n    axios.put(`${process.env.REACT_APP_API_URL}/api/todos/${id}`, todo)\n      .then(res => {\n        console.log(\"Tarea actualizada:\", res.data);\n        // Redirigir a la página de ver tareas después de actualizar\n        navigate('/show');\n      })\n      .catch(err => {\n        console.error(\"Error al actualizar la tarea:\", err.message);\n      });\n  };\n\n  return (\n    <div>\n      <h2>Actualizar Tarea</h2>\n      <form onSubmit={handleSubmit}>\n        <div>\n          <label>Título:</label>\n          <input\n            type=\"text\"\n            name=\"title\"\n            value={todo.title}\n            onChange={handleChange}\n          />\n        </div>\n        <div>\n          <label>Descripción:</label>\n          <textarea\n            name=\"description\"\n            value={todo.description}\n            onChange={handleChange}\n          />\n        </div>\n        <div>\n          <label>Fecha:</label>\n          <input\n            type=\"date\"\n            name=\"date\"\n            value={todo.date}\n            onChange={handleChange}\n          />\n        </div>\n        <div>\n          <label>Prioridad:</label>\n          <select\n            name=\"priority\"\n            value={todo.priority}\n            onChange={handleChange}\n          >\n            <option value=\"Low\">Baja</option>\n            <option value=\"Medium\">Media</option>\n            <option value=\"High\">Alta</option>\n          </select>\n        </div>\n        <div>\n          <label>Completada:</label>\n          <input\n            type=\"checkbox\"\n            name=\"done\"\n            checked={todo.done}\n            onChange={() => setTodo(prevState => ({\n              ...prevState,\n              done: !prevState.done\n            }))}\n          />\n        </div>\n        <button type=\"submit\">Actualizar Tarea</button>\n      </form>\n    </div>\n  );\n};\n\nexport default UpdateTodo;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}