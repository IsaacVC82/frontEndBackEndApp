{"ast":null,"code":"import _objectSpread from\"/home/isaac/toDoApp/backEndFrontEndApp/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import{useState,useEffect}from\"react\";import axios from\"axios\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export function UpdateTodo(_ref){let{id,handleClose,handleEdited}=_ref;const[data,setData]=useState({title:\"\",description:\"\",date:\"\",priority:\"Low\",done:false});// Cargar datos existentes de la tarea al abrir el formulario\nuseEffect(()=>{axios.get(\"\".concat(process.env.REACT_APP_API_URL,\"todo/\").concat(id)).then(res=>{setData(res.data);}).catch(err=>{console.error(\"Error al cargar los datos de la tarea:\",err.message);});},[id]);function handleChange(e){const{name,value,type,checked}=e.target;setData(prevData=>_objectSpread(_objectSpread({},prevData),{},{[name]:type===\"checkbox\"?checked:value}));}function handleSubmit(e){e.preventDefault();axios.put(\"\".concat(process.env.REACT_APP_API_URL,\"todo/\").concat(id),data).then(res=>{console.log(res.data.message);handleEdited();handleClose();}).catch(err=>{console.error(\"Error al actualizar la tarea:\",err.message);});}return/*#__PURE__*/_jsxs(\"form\",{className:\"form-container\",onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"title\",className:\"label\",children:\"T\\xEDtulo\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"title\",className:\"input\",value:data.title,onChange:handleChange}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"description\",className:\"label\",children:\"Descripci\\xF3n\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"description\",className:\"input\",value:data.description,onChange:handleChange}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"date\",className:\"label\",children:\"Fecha\"}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",name:\"date\",className:\"input\",value:data.date,onChange:handleChange}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"priority\",className:\"label\",children:\"Prioridad\"}),/*#__PURE__*/_jsxs(\"select\",{name:\"priority\",className:\"input\",value:data.priority,onChange:handleChange,children:[/*#__PURE__*/_jsx(\"option\",{value:\"Low\",children:\"Baja\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Medium\",children:\"Media\"}),/*#__PURE__*/_jsx(\"option\",{value:\"High\",children:\"Alta\"})]}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"done\",className:\"label\",children:\"Hecho\"}),/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",name:\"done\",className:\"checkbox\",checked:data.done,onChange:handleChange}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"button\",children:\"Actualizar\"})]});}export default UpdateTodo;","map":{"version":3,"names":["useState","useEffect","axios","jsx","_jsx","jsxs","_jsxs","UpdateTodo","_ref","id","handleClose","handleEdited","data","setData","title","description","date","priority","done","get","concat","process","env","REACT_APP_API_URL","then","res","catch","err","console","error","message","handleChange","e","name","value","type","checked","target","prevData","_objectSpread","handleSubmit","preventDefault","put","log","className","onSubmit","children","htmlFor","onChange"],"sources":["/home/isaac/toDoApp/backEndFrontEndApp/client/src/components/updateTodo.jsx"],"sourcesContent":["import { useState, useEffect } from \"react\";\nimport axios from \"axios\";\n\nexport function UpdateTodo({ id, handleClose, handleEdited }) {\n    const [data, setData] = useState({\n        title: \"\",\n        description: \"\",\n        date: \"\",\n        priority: \"Low\",\n        done: false,\n    });\n\n    // Cargar datos existentes de la tarea al abrir el formulario\n    useEffect(() => {\n        axios\n            .get(`${process.env.REACT_APP_API_URL}todo/${id}`)\n            .then((res) => {\n                setData(res.data); \n            })\n            .catch((err) => {\n                console.error(\"Error al cargar los datos de la tarea:\", err.message);\n            });\n    }, [id]);\n\n    function handleChange(e) {\n        const { name, value, type, checked } = e.target;\n        setData((prevData) => ({\n            ...prevData,\n            [name]: type === \"checkbox\" ? checked : value,\n        }));\n    }\n\n    function handleSubmit(e) {\n        e.preventDefault();\n\n        axios\n            .put(`${process.env.REACT_APP_API_URL}todo/${id}`, data)\n            .then((res) => {\n                console.log(res.data.message);\n                handleEdited(); \n                handleClose(); \n            })\n            .catch((err) => {\n                console.error(\"Error al actualizar la tarea:\", err.message);\n            });\n    }\n\n    return (\n        <form className=\"form-container\" onSubmit={handleSubmit}>\n            <label htmlFor=\"title\" className=\"label\">\n                Título\n            </label>\n            <input\n                type=\"text\"\n                name=\"title\"\n                className=\"input\"\n                value={data.title}\n                onChange={handleChange}\n            />\n            <label htmlFor=\"description\" className=\"label\">\n                Descripción\n            </label>\n            <input\n                type=\"text\"\n                name=\"description\"\n                className=\"input\"\n                value={data.description}\n                onChange={handleChange}\n            />\n            <label htmlFor=\"date\" className=\"label\">\n                Fecha\n            </label>\n            <input\n                type=\"date\"\n                name=\"date\"\n                className=\"input\"\n                value={data.date}\n                onChange={handleChange}\n            />\n            <label htmlFor=\"priority\" className=\"label\">\n                Prioridad\n            </label>\n            <select\n                name=\"priority\"\n                className=\"input\"\n                value={data.priority}\n                onChange={handleChange}\n            >\n                <option value=\"Low\">Baja</option>\n                <option value=\"Medium\">Media</option>\n                <option value=\"High\">Alta</option>\n            </select>\n            <label htmlFor=\"done\" className=\"label\">\n                Hecho\n            </label>\n            <input\n                type=\"checkbox\"\n                name=\"done\"\n                className=\"checkbox\"\n                checked={data.done}\n                onChange={handleChange}\n            />\n            <button type=\"submit\" className=\"button\">\n                Actualizar\n            </button>\n        </form>\n    );\n}\nexport default UpdateTodo; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}