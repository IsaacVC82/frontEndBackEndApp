{"ast":null,"code":"import _objectSpread from\"/home/isaac/toDoApp/backEndFrontEndApp/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import{useParams,useNavigate}from'react-router-dom';import{useState,useEffect}from'react';import axios from'axios';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const UpdateTodo=_ref=>{let{fetchTodos}=_ref;const{id}=useParams();// Obtener el ID desde la URL\nconst navigate=useNavigate();const[todo,setTodo]=useState({title:'',description:'',date:'',priority:'',done:false});useEffect(()=>{axios.get(\"\".concat(process.env.REACT_APP_API_URL,\"/api/todos/\").concat(id)).then(res=>{setTodo(res.data);// Cargar los datos de la tarea en el estado\n}).catch(err=>{console.error(\"Error al cargar la tarea:\",err.message);});},[id]);// Cuando el ID cambie, se vuelve a cargar la tarea\nconst handleChange=e=>{const{name,value}=e.target;setTodo(prevState=>_objectSpread(_objectSpread({},prevState),{},{[name]:value}));};const handleSubmit=e=>{e.preventDefault();axios.put(\"\".concat(process.env.REACT_APP_API_URL,\"/api/todos/\").concat(id),todo).then(res=>{console.log(\"Tarea actualizada:\",res.data);fetchTodos();// Actualizar la lista de tareas\nnavigate('/show');// Redirigir a la página de ver tareas\n}).catch(err=>{console.error(\"Error al actualizar la tarea:\",err.message);});};return/*#__PURE__*/_jsxs(\"div\",{className:\"app-container\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Actualizar Tarea\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"T\\xEDtulo:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"title\",value:todo.title,onChange:handleChange})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Descripci\\xF3n:\"}),/*#__PURE__*/_jsx(\"textarea\",{name:\"description\",value:todo.description,onChange:handleChange})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Fecha:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",name:\"date\",value:todo.date,onChange:handleChange})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Prioridad:\"}),/*#__PURE__*/_jsxs(\"select\",{name:\"priority\",value:todo.priority,onChange:handleChange,children:[/*#__PURE__*/_jsx(\"option\",{value:\"Baja\",children:\"Baja\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Media\",children:\"Media\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Alta\",children:\"Alta\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Completada:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",name:\"done\",checked:todo.done,onChange:()=>setTodo(prevState=>_objectSpread(_objectSpread({},prevState),{},{done:!prevState.done}))})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Actualizar Tarea\"})]})]});};export default UpdateTodo;","map":{"version":3,"names":["useParams","useNavigate","useState","useEffect","axios","jsx","_jsx","jsxs","_jsxs","UpdateTodo","_ref","fetchTodos","id","navigate","todo","setTodo","title","description","date","priority","done","get","concat","process","env","REACT_APP_API_URL","then","res","data","catch","err","console","error","message","handleChange","e","name","value","target","prevState","_objectSpread","handleSubmit","preventDefault","put","log","className","children","onSubmit","type","onChange","checked"],"sources":["/home/isaac/toDoApp/backEndFrontEndApp/client/src/components/updateTodo.jsx"],"sourcesContent":["import { useParams, useNavigate } from 'react-router-dom';  \nimport { useState, useEffect } from 'react';\nimport axios from 'axios';\n\nconst UpdateTodo = ({ fetchTodos }) => {\n  const { id } = useParams();  // Obtener el ID desde la URL\n  const navigate = useNavigate();  \n  const [todo, setTodo] = useState({\n    title: '',\n    description: '',\n    date: '',\n    priority: '',\n    done: false\n  });\n\n  useEffect(() => {\n    axios.get(`${process.env.REACT_APP_API_URL}/api/todos/${id}`)\n      .then(res => {\n        setTodo(res.data);  // Cargar los datos de la tarea en el estado\n      })\n      .catch(err => {\n        console.error(\"Error al cargar la tarea:\", err.message);\n      });\n  }, [id]);  // Cuando el ID cambie, se vuelve a cargar la tarea\n\n  const handleChange = (e) => {\n    const { name, value } = e.target;\n    setTodo(prevState => ({\n      ...prevState,\n      [name]: value\n    }));\n  };\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    \n    axios.put(`${process.env.REACT_APP_API_URL}/api/todos/${id}`, todo)\n      .then(res => {\n        console.log(\"Tarea actualizada:\", res.data);\n        fetchTodos();  // Actualizar la lista de tareas\n        navigate('/show');  // Redirigir a la página de ver tareas\n      })\n      .catch(err => {\n        console.error(\"Error al actualizar la tarea:\", err.message);\n      });\n  };\n\n  return (\n    <div className=\"app-container\">\n      <h2>Actualizar Tarea</h2>\n      <form onSubmit={handleSubmit}>\n        <div>\n          <label>Título:</label>\n          <input\n            type=\"text\"\n            name=\"title\"\n            value={todo.title}\n            onChange={handleChange}\n          />\n        </div>\n        <div>\n          <label>Descripción:</label>\n          <textarea\n            name=\"description\"\n            value={todo.description}\n            onChange={handleChange}\n          />\n        </div>\n        <div>\n          <label>Fecha:</label>\n          <input\n            type=\"date\"\n            name=\"date\"\n            value={todo.date}\n            onChange={handleChange}\n          />\n        </div>\n        <div>\n          <label>Prioridad:</label>\n          <select\n            name=\"priority\"\n            value={todo.priority}\n            onChange={handleChange}\n          >\n            <option value=\"Baja\">Baja</option>\n            <option value=\"Media\">Media</option>\n            <option value=\"Alta\">Alta</option>\n          </select>\n        </div>\n        <div>\n          <label>Completada:</label>\n          <input\n            type=\"checkbox\"\n            name=\"done\"\n            checked={todo.done}\n            onChange={() => setTodo(prevState => ({\n              ...prevState,\n              done: !prevState.done\n            }))}\n          />\n        </div>\n        <button type=\"submit\">Actualizar Tarea</button>\n      </form>\n    </div>\n  );\n};\n\nexport default UpdateTodo;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}